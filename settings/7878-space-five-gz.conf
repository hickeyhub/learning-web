server {
	listen       7878;
	server_name  localhost;
	#charset koi8-r;
	#access_log  logs/host.access.log  main;
	
  # 读取静态的压缩文件
  gzip_static on;
  
  # 是否在http header中添加Vary: Accept-Encoding
  gzip_vary on;
  
  location / {
      root   /home/module/gzspacefive/front/dist/;
      index  index.html index.htm;
  access_log off;
      add_header 'Access-Control-Allow-Origin' '*';
      add_header 'Access-Control-Allow-Credentials' 'true';
  }
	location ~* \.(css|js|png|jpe?g|gif|svg|ico|eot|woff2?|ttf)$ {
		# 同上，通配所有以.css/.js/...结尾的请求
		root   /home/module/gzspacefive/front/dist/;
		access_log off;
		add_header    Cache-Control  max-age=360000;
	}
    location /home/module/technical {
		alias   /home/module/technical/;
		add_header Content-Disposition "attachment;filename*=utf-8'zh_cn'$arg_n";
		add_header  Cache-Control no-store;
		add_header 'Access-Control-Allow-Origin' '*';
		add_header 'Access-Control-Allow-Credentials' 'true';
	}
    location /images {
		alias   /home/ftpuser/task/result/images;
		add_header Content-Disposition "attachment;filename*=utf-8'zh_cn'$arg_n";
		add_header  Cache-Control no-store;
		add_header 'Access-Control-Allow-Origin' '*';
		add_header 'Access-Control-Allow-Credentials' 'true';
	}
	location /ti {
		alias   /home/module/ti;
		add_header Content-Disposition "attachment;filename*=utf-8'zh_cn'$arg_n";
		add_header  Cache-Control no-store;
		add_header 'Access-Control-Allow-Origin' '*';
		add_header 'Access-Control-Allow-Credentials' 'true';
	}
	location /ftp {
		alias   /home/ftpuser;
		add_header Content-Disposition "attachment;filename*=utf-8'zh_cn'$arg_n";
		add_header  Cache-Control no-store;
		add_header 'Access-Control-Allow-Origin' '*';
		add_header 'Access-Control-Allow-Credentials' 'true';
	}
    location /home/module/denounceFiles {
        proxy_pass http://192.168.200.165:8091/home/module/denounceFiles/; #配置的网关地址
        proxy_redirect      default;
        proxy_cookie_path   / /;
        proxy_set_header    X-Real-IP $remote_addr;
        proxy_set_header    X-Forwarded-Host $remote_addr;
        proxy_set_header    X-Forwarded-Server $remote_addr;
        proxy_set_header    X-Forwarded-For  $remote_addr;    	        
		add_header Content-Disposition "attachment;filename*=utf-8'zh_cn'$arg_n";
        add_header  Cache-Control no-store;
        add_header 'Access-Control-Allow-Origin' '*';
        add_header 'Access-Control-Allow-Credentials' 'true';
    }
    location /home/ftpuser/xk/test/backup {
        proxy_pass http://192.168.200.165:8091/home/ftpuser/xk/test/backup/; #配置的网关地址 
        proxy_redirect      default;
        proxy_set_header    X-Real-IP $remote_addr;
        proxy_set_header    X-Forwarded-Host $remote_addr;
        proxy_set_header    X-Forwarded-Server $remote_addr;
        proxy_set_header    X-Forwarded-For  $remote_addr;
        proxy_cookie_path  / /;
        add_header Content-Disposition "attachment;filename*=utf-8'zh_cn'$arg_n";
        add_header  Cache-Control no-store;
        add_header 'Access-Control-Allow-Origin' '*';
        add_header 'Access-Control-Allow-Credentials' 'true';
    }
    location /home/module/network_fraud_warning_new/server/network-fraud-warning-0.0.1-SNAPSHOT/apk {
        proxy_pass http://192.168.200.165:8091/home/module/network_fraud_warning_new/server/network-fraud-warning-0.0.1-SNAPSHOT/apk/; #配置的网关地址
        proxy_redirect      default;
        proxy_set_header    X-Real-IP $remote_addr;
        proxy_set_header    X-Forwarded-Host $remote_addr;
        proxy_set_header    X-Forwarded-Server $remote_addr;
        proxy_set_header    X-Forwarded-For  $remote_addr;
        proxy_cookie_path  / /;
        add_header Content-Disposition "attachment;filename*=utf-8'zh_cn'$arg_n";
        add_header  Cache-Control no-store;
        add_header 'Access-Control-Allow-Origin' '*';
        add_header 'Access-Control-Allow-Credentials' 'true';
    }
    location ^~ /service/ {
        proxy_pass http://10.0.10.63:40001/; #配置的网关地址
        proxy_redirect      default;
        proxy_cookie_path   / /service/;
        #proxy_set_header    X-Real-IP $remote_addr;
        #proxy_set_header    X-Forwarded-Host $remote_addr;
        #proxy_set_header    X-Forwarded-Server $remote_addr;
        #proxy_set_header    X-Forwarded-For  $remote_addr;
		client_body_buffer_size	128k;
		proxy_connect_timeout	180;
		proxy_send_timeout	180;
		proxy_read_timeout	180;
		proxy_buffer_size	4k;
		proxy_buffers	32	4k;
		proxy_busy_buffers_size	64k;
    }
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   html;
    }
}
