<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.7.9/vue.js"></script>
  </head>

  <body>
    <div id="app"></div>
    <script>
      new Vue({
        name: 'App',
        data() {
          return {
            referer: {
              name: 'Hello World',
              address: 'Beijing'
            },
            simple: 'Zhang Shang'
          };
        },
        render(h) {
          console.log('app render', this);
          return h('div', [
            h(
              'button',
              {
                on: {
                  click: () => {
                    // this.referer = {
                    //   msg: 'Hello World1111'
                    // };
                    // this.simple = 'Li Si';
                    // this.$set(this.referer, 'age', 18);
                    this.$delete(this.referer, 'address');
                  }
                }
              },
              'update state'
            ),
            h('HelloWorld', {
              props: {
                referer: this.referer
              }
            }),
            h('Welcome', {
              props: {
                simple: this.simple
              }
            })
          ]);
        },
        components: {
          HelloWorld: {
            name: 'HelloWorld',
            props: ['referer'],
            render(h) {
              console.log('helloworld render');
              return h(
                'div',
                {
                  style: {
                    color: 'pink'
                  }
                },
                this.referer.name
              );
            }
          },
          Welcome: {
            name: 'Welcome',
            props: ['simple'],
            render(h) {
              console.log('welcome render');
              return h(
                'div',
                {
                  style: {
                    color: 'red'
                  }
                },
                this.simple
              );
            }
          }
        }
      }).$mount('#app');
    </script>
  </body>
</html>
